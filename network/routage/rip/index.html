<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../../img/favicon.ico" />
    <title>Exploiatation du RIPv1 - Wiki</title>
    <link rel="stylesheet" href="../../../css/theme.css" />
    <link rel="stylesheet" href="../../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../../css/timeago.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Exploiatation du RIPv1";
        var mkdocs_page_input_path = "network/routage/rip.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../.." class="icon icon-home"> Wiki
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../../git/">Git</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Cisco Configuration</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../cisco/confBasique/">Configuration basique d'un équipement Cisco</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../cisco/interVlan/">VLAN et routage inter VLAN</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../cisco/lacp/">LACP</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Network</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../../ethernetTcpIp/">Ethernet TCP IP</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../kerb/">Active Directory Kerberos et AS_REQ</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../ssh/">SSH</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../dns/">DNS</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" >Routage</a>
    <ul class="current">
                <li class="toctree-l2 current"><a class="reference internal current" href="#">Exploiatation du RIPv1</a>
    <ul class="current">
    <li class="toctree-l3"><a class="reference internal" href="#fonctionnement">Fonctionnement</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#diference-entre-v1-et-v2">Diference entre v1 et v2</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#configuration-sur-un-routeur-cisco">Configuration sur un routeur Cisco</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#routing-loop">Routing Loop</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#exploitation-du-ripv1">Exploitation du RIPv1 :</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#format-dun-packet-ripv1">Format d'un packet RIPv1</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#shema-du-reseau">Shéma du réseau</a>
    </li>
        </ul>
    </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../ospf/">OSPF</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../bgp/">BGP</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../Snmp.md">Snmp</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >SDN</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../SDN/sdn/">Software defined network</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../SDN/p4/">P4 language</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Storage</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../storage/san%26nas/">NAS et SAN</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Divers</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../study/hackathon/">hackathon Santé Conneté</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../study/ocs/">OCS Inventory</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../study/densePose/">DensePose WIFI</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../..">Wiki</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Network</li>
          <li class="breadcrumb-item">Routage</li>
      <li class="breadcrumb-item active">Exploiatation du RIPv1</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="rip-routing-information-protocol">RIP (Routing Information Protocol)</h1>
<p><em>Dernière mise à jour : <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="9 novembre 2025 11:11:12 UTC"><span class="timeago" datetime="2025-11-09T11:11:12+00:00" locale="fr"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="9 novembre 2025 11:11:12 UTC">2025-11-09</span></em></p>
<h2 id="fonctionnement">Fonctionnement</h2>
<p>Imaginons la situation ci-dessous : </p>
<p>Au début chaque routeurs construit sa table de routage par défaut; sur chaque table on trouvera 2 entrées,à savoir les deux réseaux connectés directement à notre routeur.</p>
<p><img alt="réseau avec RIPv1 " src="../../../img/RIPv1_Lab_table_routage.png" /></p>
<p>Après activation du RIP, chaque routeur va copier sa table vers son voisin direct avec les métriques. (en supposant que nous avons configuré le R1 en premier les tables de R2 et R3 se mettent à jours)</p>
<h2 id="diference-entre-v1-et-v2">Diference entre v1 et v2</h2>
<ul>
<li>
<p>Le RIPv1 est ClassFull , le RIPv2 utilise CIDR</p>
</li>
<li>
<p>L'authentification est ajoutée dans le RIPv2</p>
</li>
<li>
<p>L'adresse de broadcast est differente dans la version 2</p>
</li>
</ul>
<h2 id="configuration-sur-un-routeur-cisco">Configuration sur un routeur Cisco</h2>
<div class="highlight"><pre><span></span><code>router# conf t
router(config)# router rip
router(config)# version 2 // ou version 1
router(config)# network 192.168.1.0
router(config)# network 192.168.2.0
</code></pre></div>
<ul>
<li>pour verifier la configuration, on peut utiliser <code>show running-config | section rip</code> ou <code>show ip route</code></li>
</ul>
<h2 id="routing-loop">Routing Loop</h2>
<p>Supposons qu'une interface est down (ex : F0/0 de R3) alors le réseau 192.168.4.0/24 n'est plus joignable. </p>
<p><strong>par defaut chaque routeur envoie periodiquement(30s fixe en version 1) sa table</strong></p>
<p>et donc apres 30 seconde R3 envoie sa table à R2 sans l'entrée qui indique le réseau tombé et donc R2 ne met rien à jour. <strong>LE PROBLEME</strong> c'est quand R2 envoie sa table à R3 avec l'entree 192.168.4.0 et un metric 1 , R3 met à jour sa table en aojutant l'entree 192.168.4.0 et un metric 2. et cela cree une loop </p>
<p><strong>Si un metric est fixé à 16, c-a-d c'est l'infinie on peut pas le rejoindre.</strong></p>
<hr />
<p>Les solution : 
* Split horizon : Un routeur ne ré-annonce pas une route sur l'interface par laquelle il l'a reçue.
* Route poising : lorsqu’une route tombe, on la marque comme inaccessible en utilisant un metric infini
* Poison reverse : annule temporairement la règle du split horizon pour propager la route "empoisonnée".</p>
<h2 id="exploitation-du-ripv1">Exploitation du RIPv1 :</h2>
<p>L'idée ici c'est d'imaginer un réseaux qui utilise le RIPv1 comme protocole de routage est de voir est ce c'est possible de modifier certaines routes pour soit rediriger le traffic ou au moins empecher le réseau de fonctionner.</p>
<p><strong>Les messages de RIPv1 sont envoyé en UDP port 520 en utilisant l'adresse de diffusion 255.255.255.255</strong></p>
<h3 id="format-dun-packet-ripv1">Format d'un packet RIPv1</h3>
<div class="highlight"><pre><span></span><code>+-------------------------------------------------------------+
|   commande   |   version    |          must be zero         |
+-----+------+---------+--------------------------------------+
|         add family          |          must be zero         |
+-------------------------------------------------------------+
|                          network                            |
+-------------------------------------------------------------+
|                        must be zero                         |
+-------------------------------------------------------------+
|                          next hope                          |
+-------------------------------------------------------------+
|                           metric                            |
+-------------------------------------------------------------+
</code></pre></div>
<ul>
<li>commande : <code>0x01</code> represente un packet <strong>request</strong> et <code>0x02</code> represente une <strong>response</strong></li>
<li>version : version du rip (dans notre cas <code>0x01</code>)</li>
<li>add family : indique le type d'addresse (dans notre cas <code>2</code> pour IP)</li>
</ul>
<h3 id="shema-du-reseau">Shéma du réseau</h3>
<p>L'idée de l'exploitaion est évidente, c'est le même shéma en-dessus, il faut juste ajouter une machine unix dans le réseau <code>192.168.1.0\24</code> , pour faire ca <code>gns3</code> offre 2 possibilite : </p>
<ul>
<li>Lier une VM qui est deja presente sur VirtualBox : dans la configuration de préference je sais pas pourquoi il ne détecte pas <code>VBoxManage.exe</code></li>
<li>Utiliser un conteneur Docker : j'ai un problème de connexion que j'ai pas pu résoudre (j'ai testé un adapteur bridge avec conf de eth1 sur dhcp =&gt; ça marche pas !!).</li>
</ul>
<p>Donc pour le moment je peux pas tester ça tant que j'ai pas résolue ce problème de machine unix. </p>
<p><strong>I HATE YOU GNS3</strong> </p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../../dns/" class="btn btn-neutral float-left" title="DNS"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../ospf/" class="btn btn-neutral float-right" title="OSPF">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../../dns/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../ospf/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../../..";</script>
    <script src="../../../js/theme_extra.js"></script>
    <script src="../../../js/theme.js"></script>
      <script src="../../../js/timeago.min.js"></script>
      <script src="../../../js/timeago_mkdocs_material.js"></script>
      <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      <script src="../../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
